# 入力管理 - Input management

## 概要
複数種類のデバイス（キーボード、マウス、ゲームパッド）からの入力をゲームへの入力として統合するしくみについての説明とサンプルプログラムです。


ソースコード
- [サンプルプログラム（main.ts）](./main.ts)
- [マウス](./input_mouse.ts)
- [キーボード](./input_keyborad.ts)
- [ゲームパッド](./input_gamepad.ts)

## 入力管理
ユーザからの入力をゲームに伝えるためには、キーボード、マウスといった入力デバイスからAPIを通じて情報を取得し、利用します。もし、複数のデバイスが同時に利用可能である場合には、デバイスごとや入力の種類ごとに優先順位をつけてユーザからの入力をゲームに伝える必要があります。

ここで紹介するプログラムは、キーボード、マウス、ゲームパッドからの入力を、簡単なゲームを想定した入力形式（移動ボタン、攻撃ボタン、防御ボタンなど）に統合して利用できるマネージャとして実装したものです。

特徴
- 複数種類のデバイスからの入力を統合
- デバイスの追加が可能
- ボタンの割り当てをカスタマイズ可能

## プログラムの構成
![プログラムの構成](figure_image01.png)

【左に各デバイスとボタンがあり、真ん中にマネージャとマッピングが３種類あり、右にゲームメインと統合コントロールがある図】

## デバイスクラス

各種デバイスを実装

## ボタンコントロール

解放状態、解放になった瞬間、押下になった瞬間、押下状態の４つの状態と、二回連続押し（ダブルクリック）の状態を検出するコントロール。

## ポインタコントロール

位置情報を持つコントロール。

## アクシズ(アナログ入力)コントロール

アナログ入力の状態を持つコントロール。

## マッピング

複数の入力元からの入力を統合し割り当てる（マッピング）。一つのデバイスから一つのボタンに複数の入力を割り当てることも可能。

## マネージャ

上記のものを扱うためのマネージャ。

## 関連情報
- [TypeScriptによる基本的なWebGLプログラミング](./basic_webgl_ts/)
- [モデルデータの作成](./basic_model_converting/)
